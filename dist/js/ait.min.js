/*! astrox-imperium-tools v0.0.1 | (c) 2019  | MIT License | git+https://github.com/sharpshifter/ait.git */
!(function(t,a,r){function e(t){return t=t.replace(/[^\s]+/g,(function(t){return t.replace(/^./,(function(t){return t.toUpperCase()}))}))}t.showNotification=function(t,r="add_alert",e="info"){a.notify({icon:r,message:t},{type:e,timer:2e3,placement:{from:"top",align:"center"}})};var i=a("#shipdataexporter_sourcedata"),n=a("#shipdataexporter_process"),o=a("#shipdataexporter_sourcelabels");t.shipDataExporter={currentShipDataString:"",currentShipDataArray:[{}],shipInfoPattern:new RegExp(/SHIP_([^;]+);(.*)/g),init:function(){i.on("change keyup paste",(function(){i.val().length?n.removeClass("disabled"):n.addClass("disabled")}))},startProcess:function(){if(t.shipDataExporter.currentShipDataString=i.val(),t.shipDataExporter.currentShipDataString.length)if(t.shipDataExporter.shipInfoPattern.test(t.shipDataExporter.currentShipDataString)){var r;for(t.shipDataExporter.currentShipDataArray=[];null!=(r=t.shipDataExporter.shipInfoPattern.exec(t.shipDataExporter.currentShipDataString));)t.shipDataExporter.currentShipDataArray.push(r);t.shipDataExporter.currentShipDataArray.length?(t.shipDataExporter.currentShipDataArray.sort(),a(".processarrow1").removeClass("d-none"),o.empty(),a.each(t.shipDataExporter.currentShipDataArray,(function(t,a){var r='<a href="#" class="badge badge-primary" data-itemlbl="'+a[1]+'" data-itemval="'+a[2]+'">'+(function(t){for(var a="",r=t.split("_"),i=0;i<r.length;i++)a+=i>0?" "+e(r[i]):e(r[i]);return a})(a[1])+"</a> ";o.append(r)})),t.showNotification("Successfully processed ship data","done","success")):t.showNotification("Unable to process source ship data","error_outline","danger")}else t.showNotification("The source data doesn't seem to contain any ship stats","warning","warning")}},a((function(){i.length&&t.shipDataExporter.init()}))})(window.ait=window.ait||{},jQuery);